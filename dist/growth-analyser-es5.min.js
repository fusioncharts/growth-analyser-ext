!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var e=function(){function e(){i(this,e);var t=this;this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.analyserOptionsObject={"Previous Data":{relposition:-1},"Specific Value":function(e,n){t.currentValue=""+e,t.analyser(e,n),t.preGrowthHook("Custom",n)},"First Data":function(e,n){t.currentValue=e,t.analyser(e,n),t.preGrowthHook("Custom",n)},"Statistical Value":function(e,n){t.currentValue=e,t.analyser(e,n),t.preGrowthHook("Custom",n)}}}return r(e,[{key:"analyser",value:function(e,t){var n,i=this,o=this.ga||{},r=this.tsObject.apiInstance.getComponentStore(),s=r.getCanvasByIndex(t),l=s.getComposition(),c=l.dataset,u={},d=[],p=[],f=s.composition.yAxis,h=r.getAllCanvas(),y=h[t].composition.impl.getMenu();if(i.contextMenu=y._contextMenu,this.ga=o,!o.storeAr&&(r={},!o.idMap)){c.forEachSeries(function(e,t,n,i){r[i.getId()]=i.getOriginalData()});for(n in r)d.push(r[n]),u[n]=d.length-1;o.idMap=u,o.ds=c,o.storeAr=d,o.gAnalyser=new a(d)}p=o.gAnalyser.analyse(e),"reset"!==e&&p.changed?(f.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e,t){var n=t.numberFormatter;return n.prefix+n.formatter.format(e)+n.suffix+"%"},i.contextMenu&&i.contextMenu.showListItem("reset")):(f.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e,t){var n=t.numberFormatter;return n.prefix+n.formatter.format(e)+n.suffix},i.contextMenu&&i.contextMenu.hideListItem("reset")),c.setDataBySeries(function(e){p.value.length&&e.setOriginalData(p.value[u[e.getId()]])}),l.impl.update()}},{key:"init",value:function(e){var t=this,n=["graphics","chart","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData",function(){var e=0,i=n.length-1,o="";for(e=0;e<i;++e)o=n[e],t[o]=arguments[e]}];return e(n),this.spaceManagerInstance=t.spaceManagerInstance,this.globalReactiveModel=t.globalReactiveModel,this.tsObject=t.chartInstance,this.startDt=t.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=t.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=t.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=t.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this}},{key:"configure",value:function(){return this.toolbars.push(this.createToolbar()),this}},{key:"growthOverMode",value:function(){function e(t){var i,a;for(i in t)a=t[i],"object"===("undefined"==typeof a?"undefined":o(a))&&a.submenu&&e(a),i.indexOf(n)+1&&(r=!0)}var t=this,n=this.extData&&this.extData.growthOver,i=this.analyserOptionsObject,r=!1;return e(i),r?void(isNaN(n)?"firstIndex"===n?(t.preGrowthHook("First"),t.analyser({position:0})):"prevIndex"===n?(t.preGrowthHook("Previous"),t.analyser({relposition:-1})):(t.preGrowthHook(n),t.analyser(n)):(t.analyser(n),t.preGrowthHook("Custom"))):void(t.contextMenu&&t.contextMenu.hideListItem("reset"))}},{key:"updateAxisName",value:function(e){function t(n){for(d in n)p=n[d],"object"===("undefined"==typeof p?"undefined":o(p))&&p.submenu&&t(p),d.indexOf(e)+1&&(u=!0)}function n(e){a&&r.getAxisName("y",{text:e})}var i=this,r=this.chartInstance&&this.chartInstance.apiInstance,a=this.origAxisName||r.getAxisName("y"),s=this.extData&&this.extData.axisFormatter,l="function"==typeof s&&s||function(e,t){var n=t+"";return"Custom"===n&&(n=i.currentValue+""),n=n.toLowerCase(),e+="",e+" (Growth over "+n+")"},c=this.analyserOptionsObject,u=!1,d="",p=void 0;t(c),this.origAxisName=a,n(u?l(a,e):a)}},{key:"preGrowthHook",value:function(e,t){this.highlight(e,t)}},{key:"highlight",value:function(e,t){for(var n=this.chartInstance.apiInstance.getComponentStore(),i=n.getAllCanvas(),o=i[t].composition.impl.getMenu(),r=o._contextMenu,a=r&&r.dropDownMenu.containerData,s=a.length,l=this.graphics.paper,c=l.getInstances().d3,u={};s--;)u=a[s].container.container,u.selectAll("div").each(function(t){t.name&&t.name.indexOf(e)+1?c.select(this).classed("fc-dropdown-list-selected",!0):c.select(this).classed("fc-dropdown-list-selected",!1)})}},{key:"createToolbar",value:function(){var e,t,n,i,r,a,s=this,l=this.chartMenu,c=[],u={},d=this.graphics.paper,p=d.getInstances().d3,f=this.graphics.container,h=s.extData&&s.extData.style||{},y=this.chartInstance.apiInstance.getComponentStore(),g=y.getAllCanvas(),m={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},b={"font-size":"12px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif'},v={"font-weight":"bold"},x={"font-size":"10px","line-height":"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"},w={"font-size":"13px","font-weight":"bold",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif'},k={backgroundColor:"#d5d2d2"},C={"fc-dropdown-list-item-cat":b,"fc-dropdown-list-item-subcat":m,"fc-dropdown-list-divider":k,"fc-dropdown-list-header":w,"fc-dropdown-list-selected":v};for(a in C)d.cssAddRule("."+a,C[a]);h.category=h.category||{},h.subCategory=h.subCategory||{},h.popup=h.popup||{},Object.assign(b,h.category),Object.assign(m,h.subCategory),Object.assign(x,h.popup),u=this.analyserOptionsObject,n=function(e,t){var n,i,o,r,a,l,c,u=t||{},d=u.type||1,h=u.index,y=document.createElement("div"),g=document.createElement("div"),m=(document.createElement("div"),document.createElement("div"),document.createElement("div")),b=document.createElement("div"),v=document.createElement("button"),w=document.createElement("button"),k=p.select(f),C=s.chart&&s.chart.width||0,M=s.chart&&s.chart.height||0,S={3:[240,135],2:[220,110],1:[180,80]},O=C/2-S[d][0]/2,I=M/2-S[d][1]/2,E=S[d][0],L=S[d][1],N=u.data,j=k.select("svg").append("rect").attr("x",0).attr("y",0).attr("width",C).attr("height",M).attr("fill","#000").attr("opacity","0.35"),D=["Minimum","Maximum","Average","Median","Standard Deviation"],A=function(){g.parentElement.removeChild(g),j.remove()},G=function(t){var n=t;A(),e(n,h)},H=function(e,t){for(var n=0,i=e.length;n<i;n++){var o=document.createElement("option");o.value=e[n],o.id="option_"+n,o.text=e[n],t.appendChild(o)}},F=function(e,t){for(var n=0,i=e.length;n<i;n++){var o=document.createElement("input"),r=document.createElement("label");o.type="radio",o.name="chooseOption",o.id="option_"+n,o.value=e[n].value,o.style.cursor="pointer",o.style.marginRight="5px",r.appendChild(o),r.id="option_label"+n,r.innerHTML+=e[n].value,r.style.display="block",r.style.fontSize="11px",r.addEventListener("click",e[n].callback),t.appendChild(r)}},T=function(){l=document.createElement("select"),H(N,l),l.addEventListener("change",function(){G(l.options[l.selectedIndex].value)}),c=document.createElement("form"),F(R,c),y.appendChild(c),y.appendChild(l),c.style.display="block",c.style.width="100%",c.style.textAlign="left",l.style.display="none",l.style.marginTop="7px"},R=[{value:"Visible Range",callback:function(){r="visiblerange",l.style.display="none",G(r)}},{value:"Full Range",callback:function(){r="fullrange",l.style.display="none",G(r)}},{value:"Standard Time Interval",callback:function(){l.style.display="block",g.style.height=L+17+"px"}}];g.unselectable="on",g.style.position="absolute",g.style.fill="#f7f7f7",g.style.left=O+"px",g.style.top=I+"px",g.style.border="1px solid rgb(212, 210, 211)",g.style.stroke="rgb(103, 103, 103)",g.style.width=E+"px",g.style.backgroundColor="rgb(247, 247, 247)",g.style.height=L+"px",g.style.fontFamily='"Lucida Grande", sans-serif';for(o in x)g.style[o]=x[o];v.innerHTML="X",v.style.paddingTop="-3px",v.type="button",v.style.float="right",v.style.display="inline",v.style.marginTop="-3px",v.style.cursor="pointer",v.style.height="21px",v.style.lineHeight="1",v.style.width="24px",v.style.border="2px solid rgb(203, 203, 203)",v.style.backgroundColor="rgb(210, 210, 210)",v.style.color="rgb(140, 140, 140)",v.style.stroke="rgb(103, 103, 103)",v.addEventListener("click",A),b.innerHTML="Provide Value",b.style.fontSize="10px",b.style.display="inline-block",b.style.stroke="rgb(103, 103, 103)",b.style.width=E-50+"px",b.style.color="rgb(103, 103, 103)",m.style.position="relative",m.style.paddingTop="3px",m.style.paddingLeft="11px",m.style.left="0px",m.style.top="0px",m.style.backgroundColor="rgb(232, 232, 232)",m.style.border="1px solid rgb(212, 210, 211)",m.style.stroke="rgb(103, 103, 103)",m.style.width=E-12+"px",m.style.height="18px";for(o in x)m.style[o]=x[o];switch(y.style.textAlign="left",y.style.padding="12px",m.appendChild(b),m.appendChild(v),d){case 1:var z=void 0;i=document.createElement("input"),i.style.width="54%",i.style.height="20px",i.style.border="2px solid rgb(218, 219, 218)",i.style.stroke="rgb(103, 103, 103)",i.style.margin="0px",i.style["font-size"]="13px",i.addEventListener("keyup",function(e){13===e.keyCode?G(i.value):z=i.value.replace(/[^\d.-]/g,"")}),i.addEventListener("keydown",function(e){z=i.value.replace(/[^\d.-]/g,"")}),w.style.float="right",w.style.borderRadius="1px",w.style.color="#fff",w.style.background="#555555",w.style.fontSize="10px",w.style.borderRadius="5px",w.style.border="1px solid rgba(0,0,0,0.4)",w.style.height="22px",w.style.width="50px",w.style.cursor="pointer",w.addEventListener("click",function(e){G(z)}),w.innerHTML="Apply",y.appendChild(i),y.appendChild(w);break;case 2:T();break;case 3:n=document.createElement("label"),a=document.createElement("select"),a.style.marginBottom="5px",a.addEventListener("click",function(){}),H(D,a),n.id="methods",n.innerHTML+="Methods : ",n.style.fontSize="11px",y.appendChild(n),y.appendChild(a),T(),a.style.display="inline-block"}g.appendChild(m),g.appendChild(y),g.id="modal",f.appendChild(g),1===d&&i.focus()},i=function(){return["yearly","monthly","daily","hourly"]},r=function(e,t,a){var l=void 0,c=[],u=function(u){if(l={},l.action="click",l.padding={left:20},l.name=u,e.hasOwnProperty(u)){if("object"===o(e[u])&&e[u].submenu)l.className="fc-dropdown-list-item-cat",l.handler=r(e[u],!0,a);else{if("submenu"===u)return"continue";l.className=t?"fc-dropdown-list-item-cat":"fc-dropdown-list-item-subcat",l.handler=function(){"function"==typeof e[u]?"Specific Value"===u?n(e[u],{type:1,index:a}):"First Data"===u?n(e[u],{type:2,index:a,data:i()}):"Statistical Value"===u&&n(e[u],{type:3,index:a,data:i()}):(s.analyser(e[u]),s.preGrowthHook(u))},l.style=m}c.push(l)}};for(var d in e){u(d)}return c};for(var M=Object.keys(g).length-1;M>=0;M--){l=g[M].composition.impl.getMenu(),c=[],c.push({name:"Show Growth Over",interactivity:!1,className:"fc-dropdown-list-header"}),c.push({name:"Reset View",id:"reset",className:"fc-dropdown-list-item-cat",padding:{left:20},handler:function(){s.analyser("reset"),s.preGrowthHook("reset")},action:"click"}),c.push({id:"reset",divider:!0,interactivity:!1,className:"fc-dropdown-list-divider"}),t=r(u,void 0,M);for(var S=0,O=t.length;S<O;S++)t[S]&&c.push(t[S]);l.appendList(c)}return this.growthOverMode(),e}},{key:"placeInCanvas",value:function(){}},{key:"draw",value:function(){}}]),e}();FusionCharts.registerComponent("extensions","growth-analyser",e)}])},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)};var o=function(){function e(t){n(this,e),this.data=t.map(function(e){return e.map(function(e){return e})}),this.Formulae=r}return i(e,[{key:"getAnalyser",value:function(e){return this.analyse.bind(this,e)}},{key:"analyse",value:function(e,t){var n=0,i=0,o=0,r=0,a=0,s=this.Formulae,l=t||this.data,c=[],u=0,d=l,p=[],f=[],h=0,y=({changed:!1,value:l.map(function(e){return e.map(function(e){})})},{changed:!1,value:l.map(function(e){return e.map(function(e){return e})})});if(void 0===e)return y;if("string"==typeof e&&"reset"===e.toLowerCase())return y;if(isNaN(e))if("string"==typeof e){if(e=s[e],!e)return y;for(n=0,i=d.length;n<i;++n){for(f=[],u=e(d[n]),o=0,r=d[n].length;o<r;++o)a=d[n][o],h=0===u?void 0:100*(a-u)/u,f.push(h);p.push(f)}}else if(isNaN(e.relposition))if(isNaN(e.position)&&"string"!=typeof e.position){if(isNaN(e.reldatasetposition))return y;for(e=e.reldatasetposition,n=0,i=d.length;n<i;++n){for(f=[],c=n+e>=0&&n+e<i?d[n+e]:d[n],o=0,r=d[n].length;o<r;++o)u=c[o],a=d[n][o],f.push(100*(a-u)/a);p.push(f)}}else for(e=e.position,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],u="last"===e?d[n][r-1]:"mid"===e?d[n][r/2]:e>=0&&e<r?d[n][e]:a,f.push(100*(a-u)/u);p.push(f)}else for(e=e.relposition,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],u=o+e>=0&&o+e<r?d[n][o+e]:a,f.push(100*(a-u)/u);p.push(f)}else for(u=+e,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],f.push(100*(a-u)/u);p.push(f)}for(n=0,i=p.length;n<i;++n)for(o=0,r=p[n].length;o<r;++o)Number.isFinite(p[n][o])||(p[n][o]=null),h=parseInt(100*p[n][o]),p[n][o]=h/100;return{changed:!0,value:p}}}]),e}(),r={Minimum:function(e){return e.reduce(function(e,t){return e>t?t:e})},Maximum:function(e){return e.reduce(function(e,t){return e<t?t:e})},Mean:function(e){return e.reduce(function(e,t){return e+t})/e.length},Median:function(e){return e.map(function(e){return e}).sort(function(e,t){return e-t})[e.length>>1]},"Standard Deviation":function(e){function t(e){var t,n;return t=e.reduce(function(e,t){return e+t},0),n=t/e.length}var n=0,i=0,o=0,r=0,a=0,s=0;return n=t(e),i=e.map(function(e){return s=e-n,o=s*s}),r=t(i),a=Math.sqrt(r)}};e.exports=o}]);