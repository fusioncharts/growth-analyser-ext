!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var e=function(){function e(){i(this,e);var t=this;this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.analyserOptionsObject={"First Data":{position:0},"Previous Data":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Average:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(e){e(function(e){t.currentValue=e+"",t.analyser(e),t.preGrowthHook("Custom")})}}}}return r(e,[{key:"analyser",value:function(e){var t,n=this,i=this.ga||{},o=this.tsObject.apiInstance.getComponentStore(),r=o.getCanvasByIndex(0),s=r.getComposition(),l=i.ds||s.dataset,c=i.idMap||{},u=i.storeAr||[],d=[],h=r.composition.yAxis;if(this.ga=i,!i.storeAr&&(o={},!i.idMap)){l.forEachSeries(function(e,t,n,i){o[i.getId()]=i.getOriginalData()});for(t in o)u.push(o[t]),c[t]=u.length-1;i.idMap=c,i.ds=l,i.storeAr=u,i.gAnalyser=new a(u)}d=i.gAnalyser.analyse(e),"reset"!==e&&d.changed?h.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e,t){return t.numberFormatter.yAxis(e)+"%"}:(h.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e,t){return t.numberFormatter.yAxis(e)},n.contextMenu&&n.contextMenu.hideListItem("reset")),l.setDataBySeries(function(e){d.value.length&&e.setOriginalData(d.value[c[e.getId()]])}),s.impl.update()}},{key:"init",value:function(e){var t=this,n=["graphics","chart","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData",function(){var e=0,i=n.length-1,o="";for(e=0;e<i;++e)o=n[e],t[o]=arguments[e]}];return e(n),this.spaceManagerInstance=t.spaceManagerInstance,this.globalReactiveModel=t.globalReactiveModel,this.tsObject=t.chartInstance,this.startDt=t.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=t.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=t.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=t.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"growthOverMode",value:function(){function e(t){var i,a;for(i in t)a=t[i],"object"===("undefined"==typeof a?"undefined":o(a))&&a.submenu&&e(a),i.indexOf(n)+1&&(r=!0)}var t=this,n=this.extData&&this.extData.growthOver,i=this.analyserOptionsObject,r=!1;return e(i),r?void(isNaN(n)?"firstIndex"===n?(t.preGrowthHook("First"),t.analyser({position:0})):"prevIndex"===n?(t.preGrowthHook("Previous"),t.analyser({relposition:-1})):(t.preGrowthHook(n),t.analyser(n)):(t.analyser(n),t.preGrowthHook("Custom"))):void(t.contextMenu&&t.contextMenu.hideListItem("reset"))}},{key:"updateAxisName",value:function(e){return}},{key:"preGrowthHook",value:function(e){this.updateAxisName(e)}},{key:"highlight",value:function(e){for(var t=this.contextMenu,n=t&&t.listContainerManager.container.atomicLists,i=n.length,o=0,r={},a={},s=!0;i-- -1;)for(r=n[i],s=!0,r.name.indexOf(e)+1?r.node.style.fontWeight="bold":r.node.style.fontWeight="",o=r.subConRef&&r.subConRef.atomicLists.length||0;o--;)a=r.subConRef.atomicLists[o],a.name.indexOf(e)+1?(a.node.style.fontWeight="bold",r.node.style.fontWeight="bold",s=!1):a.node.style.fontWeight="",s&&(r.node.style.fontWeight="")}},{key:"addCssRules",value:function(e,t){var n,i,o=this.graphics.paper;for(n in e)switch(i=e[n],n){case"container":t.container&&o.cssAddRule("."+i,t.container.style);break;case"text":t.text&&o.cssAddRule("."+i,t.text.style)}}},{key:"createToolbar",value:function(){function e(e,t,n,i){var e=e,t=t,n=n,i=i;return{type:"path",attrs:{d:["M",e,t,",","L",e+n,t,"M",e,t+i/2,",","L",e+n,t+i/2,"M",e,t+i,",","L",e+n,t+i].join(" "),stroke:"#ff0000","stroke-width":"2px"}}}var t,n,i,o,r,a=this,s=[],l={},c=this.graphics.paper,u=c.getInstances().d3,d=this.graphics.container,h=a.extData&&a.extData.style||{},f={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},p={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif'},m={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"},g={backgroundColor:"#d5d2d2"},y={height:22,radius:1,className:"standard-period-selector",container:{style:{fill:"#FFFFFF","stroke-width":"1px",stroke:"#CED5D4",labelFill:"#4b4b4b",strokeWidth:"1px"}},symbol:{style:{fill:"#4b4b4b"}},states:{hover:{className:"standard-period-selector-state-hover",container:{style:{cursor:"pointer",fill:"#f7f7f7"}}}}},v={container:{style:{background:"#fff","border-color":"#898b8b","border-radius":"1px","border-style":"solid","border-width":"2px","font-size":"11px","font-family":'"Lucida Grande", sans-serif'}},listItem:{style:{},states:{hover:{className:"fc-dropdown-list-item-hover",style:{background:"#e6e8e8",color:"#696969",cursor:"pointer"}},selected:{className:"fc-dropdown-list-item-hover",style:{background:"#898b8b",color:"#fff"}}}}},b={"fc-dropdown-list-item-cat":p,"fc-dropdown-list-item-subcat":f,"fc-dropdown-list-divider":g};for(r in b)c.cssAddRule("."+r,b[r]);h.category=h.category||{},h.subCategory=h.subCategory||{},h.popup=h.popup||{},Object.assign(p,h.category),Object.assign(f,h.subCategory),Object.assign(m,h.popup),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),n=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),n.setConfig({fill:"#fff",borderThickness:0}),l=this.analyserOptionsObject,i=u.buttonWithContextMenu(e,this.graphics.container).setConfig({width:24,height:22,position:"right",radius:"1",padding:{top:6,bottom:6,left:6,right:6}}),a.addCssRules(i.getIndividualClassNames(i.getClassName()),y);var x=i.config.dropDownMenu;for(var w in x){var k=x[w];switch(w){case"container":c.cssAddRule("."+k.className,v.container.style);break;case"listItem":c.cssAddRule("."+k.className,v.listItem.style);var C=k.states;for(var M in C)c.cssAddRule("."+C[M],v.listItem.states[M].style)}}this.contextMenu=i,s.push({name:"Show Growth Over",interactivity:!1}),o=function(e){function t(){i.hide(),h.remove(),e(l.val())}function n(){l.element.value=l.element.value.replace(/[^\d.-]/g,"")}var i,o,r,s,l,u,h,f=m,p=180,g=a.chart&&a.chart.width||0,y=a.chart&&a.chart.height||0,v=g/2-90,b=y/2-40;h=c.rect({x:0,y:0,width:g,height:y,fill:"#000",opacity:"0.35"}),i=c.html("div",{fill:"#f7f7f7",x:v,y:b,width:180,height:80},f,d),o=c.html("div",{fill:"#e8e8e8",width:p,height:20},f,i),r=c.html("div",{fill:"transparent",width:.6*p,height:20,x:10,y:2},f,o),r.attr({text:"Provide value"}),s=c.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},f,o),s.on("click",function(){i.hide(),h.remove()}),l=c.html("input",{width:100,height:20,x:10,y:30},f,i),u=c.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},i),u.on("click",function(){t()}),l.on("keyup",function(e){13===e.keyCode&&t()}),u.attr({text:"Apply"}),l.element.focus(),l.element.addEventListener("keyup",n),s.element.style.position="relative",s.element.style.backgroundColor="#d2d2d2",s.element.style.border="2px solid #cbcbcb",s.element.style.padding="0px 0px 3.5px 2px",s.element.style.color="#8c8c8c",s.element.style.margin="1px 2px",s.element.style.float="right",l.element.style.marginTop="8px",l.element.style.border="2px solid #dadbda",u.element.style.marginTop="8px",i.element.style.border="1px solid #d4d2d3",o.element.style.border="1px solid #d4d2d3",o.element.style.width="179px",r.element.style.fontSize="11.5px",r.element.style.marginTop="0.5px",r.element.style.color="#676767",o.element.style["font-family"]='"Lucida Grande", Sans-serif',u.element.style.textAlign="center",u.element.style.fontSize="11px",u.element.style.paddingTop="3px",u.element.style.borderRadius="3px",u.element.style.color="#e4e4e4"},s.push({name:"Reset View",id:"reset",className:"fc-dropdown-list-item-cat",padding:{left:20},handler:function(){a.analyser("reset"),a.preGrowthHook("reset")},action:"click"}),s.push({divider:!0,interactivity:!1});var S=function(e){var t=void 0,n={},i={};if(l[e].submenu){n={},t=e,n.name=t,n.action="click",n.className="fc-dropdown-list-item-cat",n.handler=[],n.padding={left:20};var r=function(t){var r=t,s=l[e][t];return"submenu"===t?"continue":(i={},i.className="fc-dropdown-list-item-subcat",i.name=r,i.handler=function(){"function"==typeof s?s(o):(a.analyser(s),a.preGrowthHook(r))},i.action="click",i.style=f,n.handler.push(i),void(t.indexOf("Custom")===-1&&n.handler.push({divider:!0,interactivity:!1})))};for(var c in l[e]){r(c)}}else t=e,n={name:t,className:"fc-dropdown-list-item-cat",padding:{left:20},handler:function(){a.analyser(l[e]),a.preGrowthHook(e)},action:"click"};s.push(n),e.indexOf("Specific")===-1&&s.push({divider:!0,className:"fc-dropdown-list-divider"})};for(var O in l)S(O);return i.add(s),n.addSymbol(i),t.addComponent(n),console.log(i),t}},{key:"getLogicalSpace",value:function(e,t){e/=2;var n,i,o,r=0,a=0;for(i=0,o=this.toolbars.length;i<o;i++)n=this.toolbars[i].getLogicalSpace(e,t),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r>e?0:r,height:a>t?0:a}}},{key:"placeInCanvas",value:function(){var e=this,t=this.extData||{},n=t.posWrtCanvas||"top",i=t.layout||"inline",o=t.alignment||"right",r=t.orientation||"horizontal";e.padding=5,e.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(e){return e[0]},self:function(){return e},priority:function(){return 2},layout:function(e){return e[i]},orientation:[{type:function(e){return e[r]},position:[{type:function(e){return e[n]},alignment:[{type:function(e){return e[o]},dimensions:[function(){var t=this.getParentComponentGroup();return e.getLogicalSpace(t.getWidth(),t.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(e,t,n,i,o){var r=this.measurement;return r.x=e,r.y=t,r.width=n,r.height=i,this.parentGroup=o,this}},{key:"draw",value:function(e,t,n,i,o){var r,a,s,l=this.measurement,c=this.toolbars;if(this.growthOverMode(),e=void 0===e?l.x:e,t=void 0===t?l.y:t,n=void 0===n?l.width:n,i=void 0===i?l.height:i,o=void 0===o?this.parentGroup:o,n&&i)for(a=0,r=c.length;a<r;a++)s=c[a],s.draw(e,t,o)}}]),e}();FusionCharts.registerComponent("extensions","growth-analyser",e)}])},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){n(this,e),this.data=t.map(function(e){return e.map(function(e){return e})}),this.Formulae=r}return i(e,[{key:"getAnalyser",value:function(e){return this.analyse.bind(this,e)}},{key:"analyse",value:function(e,t){var n=0,i=0,o=0,r=0,a=0,s=this.Formulae,l=t||this.data,c=[],u=0,d=l,h=[],f=[],p=0,m=({changed:!1,value:l.map(function(e){return e.map(function(e){})})},{changed:!1,value:l.map(function(e){return e.map(function(e){return e})})});if(void 0===e)return m;if("string"==typeof e&&"reset"===e.toLowerCase())return m;if(isNaN(e))if("string"==typeof e){if(e=s[e],!e)return m;for(n=0,i=d.length;n<i;++n){for(f=[],u=e(d[n]),o=0,r=d[n].length;o<r;++o)a=d[n][o],p=0===u?void 0:100*(a-u)/u,f.push(p);h.push(f)}}else if(isNaN(e.relposition))if(isNaN(e.position)&&"string"!=typeof e.position){if(isNaN(e.reldatasetposition))return m;for(e=e.reldatasetposition,n=0,i=d.length;n<i;++n){for(f=[],c=n+e>=0&&n+e<i?d[n+e]:d[n],o=0,r=d[n].length;o<r;++o)u=c[o],a=d[n][o],f.push(100*(a-u)/a);h.push(f)}}else for(e=e.position,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],u="last"===e?d[n][r-1]:"mid"===e?d[n][r/2]:e>=0&&e<r?d[n][e]:a,f.push(100*(a-u)/u);h.push(f)}else for(e=e.relposition,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],u=o+e>=0&&o+e<r?d[n][o+e]:a,f.push(100*(a-u)/u);h.push(f)}else for(u=+e,n=0,i=d.length;n<i;++n){for(f=[],o=0,r=d[n].length;o<r;++o)a=d[n][o],f.push(100*(a-u)/u);h.push(f)}for(n=0,i=h.length;n<i;++n)for(o=0,r=h[n].length;o<r;++o)Number.isFinite(h[n][o])||(h[n][o]=null),p=parseInt(100*h[n][o]),h[n][o]=p/100;return{changed:!0,value:h}}}]),e}(),r={Minimum:function(e){return e.reduce(function(e,t){return e>t?t:e})},Maximum:function(e){return e.reduce(function(e,t){return e<t?t:e})},Mean:function(e){return e.reduce(function(e,t){return e+t})/e.length},Median:function(e){return e.map(function(e){return e}).sort(function(e,t){return e-t})[e.length>>1]},"Standard Deviation":function(e){function t(e){var t,n;return t=e.reduce(function(e,t){return e+t},0),n=t/e.length}var n=0,i=0,o=0,r=0,a=0,s=0;return n=t(e),i=e.map(function(e){return s=e-n,o=s*s}),r=t(i),a=Math.sqrt(r)}};e.exports=o}]);